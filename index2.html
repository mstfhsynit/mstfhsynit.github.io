<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sayı Tahmin Oyunu</title>
<style>
body{
  margin:0;
  padding:0;
  font-family:Segoe UI,Arial,sans-serif;
  text-align:center;
  color:#fff;
  overflow:hidden;
  background:#0b1d2b;
  position:relative;
}
.logo{
  position:fixed;
  top:10px;
  left:20px;
  width:120px;
  z-index:1000;
}
h1{margin:20px 0 5px 0;}
p{margin:5px 0 15px 0;color:#ccc;}
#cardContainer{position:relative;margin-top:80px;}
.card{
  width:220px;
  padding:20px 20px 30px 20px;
  background:#162447;
  border-radius:15px;
  box-shadow:0 6px 20px rgba(0,0,0,0.5);
  margin:0 auto;
  opacity:0;
  transform:translateY(50px);
  transition:transform 0.6s ease,opacity 0.6s ease;
  position:relative;
}
.card.show{
  opacity:1;
  transform:translateY(0);
}
.card button{
  padding:10px 20px;
  margin:8px;
  border:none;
  border-radius:5px;
  font-weight:bold;
  cursor:pointer;
  transition:transform 0.2s;
}
.card button:hover{transform:scale(1.05);}
.yes{background:#00c853;color:#fff;}
.no{background:#d50000;color:#fff;}
.numbers{font-size:0.85em;text-align:left;margin:12px 0;max-height:120px;overflow-y:auto;padding:8px;border-radius:8px;background:#0f3460;color:#fff;}
#cardNumber{
  position:absolute;
  top:8px;
  left:50%;
  transform:translateX(-50%);
  font-weight:bold;
  font-size:1em;
  color:#ffeb3b;
}

/* Paylaş butonları ve dil seçimi */
#result{font-size:2em;margin-top:30px;color:#ffeb3b;font-weight:bold;text-shadow:0 0 10px #ffeb3b,0 0 20px #ffeb3b;}
#shareBtn{margin-top:30px;padding:12px 20px;font-size:1em;font-weight:bold;border:none;border-radius:10px;background:linear-gradient(90deg,#00c853,#64dd17);color:#fff;cursor:pointer;transition:0.2s;}
#shareBtn:hover{transform:scale(1.05);box-shadow:0 0 15px #64dd17;}
#shareMenu{display:flex;justify-content:center;flex-wrap:wrap;margin-top:10px;visibility:hidden;opacity:0;transition:0.3s;}
#shareMenu.show{visibility:visible;opacity:1;}
.sharePlatform{display:inline-block;margin:5px;padding:10px 18px;border-radius:8px;color:#fff;font-weight:bold;text-decoration:none;transition:0.2s;}
#whatsapp.sharePlatform{background:#25D366;}
#facebook.sharePlatform{background:#3b5998;}
#twitter.sharePlatform{background:#1DA1F2;}
#linkedin.sharePlatform{background:#0077B5;}
#telegram.sharePlatform{background:#0088cc;}
#instagram.sharePlatform{background:#E1306C;}
.sharePlatform:hover{transform:scale(1.1);box-shadow:0 0 12px rgba(255,255,255,0.5);}
#languageSelector{position:fixed;top:15px;right:15px;z-index:2000;}
#languageMenu{display:none;margin-top:5px;background:rgba(0,0,0,0.5);border-radius:8px;padding:5px;flex-direction:column;}
.langBtn{display:block;margin:3px;cursor:pointer;text-align:left;}
.langBtn img{width:30px;height:30px;border-radius:50%;margin-right:8px;vertical-align:middle;transition:transform 0.2s;}
.langBtn img:hover{transform:scale(1.1);}

/* Arka plan hilal + yıldızlar */
.background{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  z-index:-1;
  pointer-events:none;
}
.star,.moon{
  position:absolute;
  background:#fff;
  border-radius:50%;
  animation:twinkle 3s infinite alternate;
}
.moon{
  width:150px;
  height:150px;
  border-radius:50%;
  clip-path: ellipse(50% 50% at 25% 50%);
  bottom:20%;
  left:50%;
  transform:translateX(-50%);
  opacity:0.7;
}
@keyframes twinkle{
  0%{opacity:0.2;}
  50%{opacity:0.7;}
  100%{opacity:0.2;}
}
</style>
</head>
<body>

<img src="mstfhsyn-logo.png" class="logo" alt="MstfHsyn Logo">

<h1 id="title">Sayı Tahmin Oyunu</h1>
<p id="instruction">1 ile 200 arasında bir sayı tutun. Kartlara göre "Evet" veya "Hayır" seçin.</p>

<!-- Dil Seçimi -->
<div id="languageSelector">
  <span id="selectedLang" style="cursor:pointer;">Dil Seç</span>
  <div id="languageMenu">
    <div class="langBtn" data-lang="tr" title="Türkçe"><img src="https://flagcdn.com/w40/tr.png">Türkçe</div>
    <div class="langBtn" data-lang="ar" title="العربية"><img src="https://flagcdn.com/w40/sa.png">العربية</div>
    <div class="langBtn" data-lang="en" title="English"><img src="https://flagcdn.com/w40/gb.png">English</div>
  </div>
</div>

<div id="cardContainer"></div>
<p id="result"></p>

<div>
    <button id="shareBtn">Oyunu paylaş, arkadaşların da oynasın</button>
    <div id="shareMenu">
        <a href="#" class="sharePlatform" id="whatsapp">WhatsApp</a>
        <a href="#" class="sharePlatform" id="facebook">Facebook</a>
        <a href="#" class="sharePlatform" id="twitter">Twitter</a>
    </div>
</div>

<div class="background"></div>

<script>
// Yıldızlar
const background=document.querySelector('.background');
for(let i=0;i<30;i++){
  const star=document.createElement('div');
  star.className='star';
  const size=Math.random()*3+1;
  star.style.width=size+'px';
  star.style.height=size+'px';
  star.style.top=Math.random()*60+'%';
  star.style.left=Math.random()*100+'%';
  star.style.animationDuration=(Math.random()*3+2)+'s';
  background.appendChild(star);
}

// Dil seçimi
const texts = {
  tr:{title:"Sayı Tahmin Oyunu",instruction:"1 ile 200 arasında bir sayı tutun. Kartlara göre 'Evet' veya 'Hayır' seçin.",shareBtn:"Oyunu paylaş, arkadaşların da oynasın",result:"Tahminim: "},
  ar:{title:"لعبة تخمين الرقم",instruction:"اختر رقمًا بين 1 و200. اضغط 'نعم' أو 'لا' حسب البطاقات.",shareBtn:"شارك اللعبة مع أصدقائك",result:"توقعي: "},
  en:{title:"Number Guessing Game",instruction:"Pick a number between 1 and 200. Choose 'Yes' or 'No' for each card.",shareBtn:"Share the game, let your friends play",result:"My guess: "}
};
const titleEl=document.getElementById('title');
const instructionEl=document.getElementById('instruction');
const shareBtnEl=document.getElementById('shareBtn');
const resultEl=document.getElementById('result');
const selectedLang=document.getElementById('selectedLang');
const languageMenu=document.getElementById('languageMenu');
const langBtns=document.querySelectorAll('.langBtn');
selectedLang.addEventListener('click',()=>{languageMenu.style.display=languageMenu.style.display==='none'?'flex':'none';});
langBtns.forEach(btn=>{
  btn.addEventListener('click',()=>{
    const lang=btn.dataset.lang;
    const langName=btn.title;
    const flagSrc=btn.querySelector('img').src;
    if(texts[lang]){
      titleEl.innerText=texts[lang].title;
      instructionEl.innerText=texts[lang].instruction;
      shareBtnEl.innerText=texts[lang].shareBtn;
      if(resultEl.innerText.includes(":")){
        const guess=resultEl.innerText.split(":")[1].trim();
        resultEl.innerText=texts[lang].result+guess;
      }
    }
    selectedLang.innerHTML=`<img src="${flagSrc}" style="width:25px;height:25px;border-radius:50%; vertical-align:middle;"> ${langName}`;
    languageMenu.style.display='none';
  });
});

// Paylaş
const shareBtn=document.getElementById('shareBtn');
const shareMenu=document.getElementById('shareMenu');
shareBtn.addEventListener('click',()=>{shareMenu.classList.toggle('show');});

// Kartlar
const cardContainer=document.getElementById('cardContainer');
const totalCards=8;
let currentCard=0;
let userNumber=0;
const cards=[];
const bip=new Audio('https://www.soundjay.com/button/sounds/button-16.mp3');

function createCard(numbers, bitValue){
  const card=document.createElement('div');
  card.className='card';
  card.dataset.bit=bitValue;
  card.innerHTML=`<div id="cardNumber">Kart ${currentCard+1} / ${totalCards}</div>
                  <p class="numbers">${numbers.join(', ')}</p>
                  <button class="yes">Evet</button>
                  <button class="no">Hayır</button>`;
  return card;
}

function showNextCard(){
  if(currentCard>=totalCards){
    resultEl.innerText="Tahminim: "+userNumber;
    return;
  }
  const bitValue=Math.pow(2,currentCard);
  const numbers=[];
  for(let i=1;i<=200;i++){
    if(i & bitValue) numbers.push(i);
  }
  const card=createCard(numbers,bitValue);
  cardContainer.appendChild(card);
  setTimeout(()=>{card.classList.add('show');},50);

  card.querySelector('.yes').addEventListener('click',()=>{
    bip.play();
    userNumber += bitValue;
    card.style.transform='translateY(-150px) rotate(15deg)';
    card.style.opacity='0';
    setTimeout(()=>{ card.remove(); currentCard++; showNextCard(); },600);
  });
  card.querySelector('.no').addEventListener('click',()=>{
    bip.play();
    card.style.transform='translateY(-150px) rotate(-15deg)';
    card.style.opacity='0';
    setTimeout(()=>{ card.remove(); currentCard++; showNextCard(); },600);
  });
  cards.push(card);
}

// Başlangıç
showNextCard();
</script>
</body>
</html>
