<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Password Tool</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{
  margin:0;font-family:system-ui,sans-serif;min-height:100vh;
  background:
    radial-gradient(circle at top left,#2563eb,transparent 40%),
    radial-gradient(circle at bottom right,#9333ea,transparent 40%),
    #020617;
  display:flex;justify-content:center;align-items:center;color:#e5e7eb
}
.card{
  width:100%;max-width:520px;margin:16px;
  background:rgba(2,6,23,.88);backdrop-filter:blur(14px);
  border-radius:18px;padding:20px
}
h2,h3{margin:10px 0}
input,button{
  width:100%;padding:10px;margin-top:8px;border-radius:10px;
  border:none;font-size:15px
}
input{background:#020617;color:#e5e7eb}
button{background:#2563eb;color:white;cursor:pointer}
.secondary{background:#334155}
.row{display:flex;gap:8px}
.bar{height:10px;background:#020617;border-radius:999px;overflow:hidden}
.fill{height:100%;width:0%;transition:.4s}
.item{
  background:#020617;border:1px solid #1e293b;border-radius:10px;
  padding:10px;margin-top:8px
}
.time{font-size:12px;opacity:.6}
.actions{display:flex;gap:6px;margin-top:6px}
.actions button{flex:1;font-size:13px;padding:6px}
hr{border:none;height:1px;background:#1e293b;margin:16px 0}
</style>
</head>

<body>
<div class="card">

<h2>ğŸ” Åifre AracÄ±</h2>

<input type="password" id="pw" placeholder="Åifre yaz veya oluÅŸtur">
<div class="bar"><div id="fill" class="fill"></div></div>
<div id="strength"></div>

<div class="row">
  <button class="secondary" onclick="toggle()">ğŸ‘ï¸</button>
  <button onclick="generate()">ğŸ² OluÅŸtur</button>
</div>

<hr>

<h3>ğŸ’¾ Kaydet</h3>
<input id="label" placeholder="Åifrenize bir ad verin (Ã¶rn: gmail)">
<button onclick="save()">Kaydet</button>

<hr>

<h3>ğŸ” Ara</h3>
<input id="search" placeholder="Etikete gÃ¶re ara..." oninput="load()">

<hr>

<h3>ğŸ“‚ Kaydedilen Åifreler</h3>
<div id="list"></div>

</div>

<script>
const pw=document.getElementById("pw");
const fill=document.getElementById("fill");
const strength=document.getElementById("strength");
const list=document.getElementById("list");
const search=document.getElementById("search");

pw.oninput=()=>{
  let p=pw.value,s=0;
  if(p.length>=12)s+=30;
  if(/[A-Z]/.test(p))s+=15;
  if(/[a-z]/.test(p))s+=15;
  if(/\d/.test(p))s+=20;
  if(/[^A-Za-z0-9]/.test(p))s+=20;
  fill.style.width=s+"%";
  fill.style.background=s<40?"#ef4444":s<70?"#f59e0b":"#22c55e";
  strength.textContent=s<40?"ZayÄ±f":s<70?"Orta":"GÃ¼Ã§lÃ¼";
};

function toggle(){
  pw.type=pw.type==="password"?"text":"password";
}

function generate(){
  const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()";
  let out="";
  crypto.getRandomValues(new Uint32Array(12)).forEach(n=>out+=chars[n%chars.length]);
  pw.value=out;
  pw.oninput();
}

function now(){
  const d=new Date(),pad=n=>String(n).padStart(2,"0");
  return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())} ${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;
}

function save(){
  if(!label.value||!pw.value)return;
  let v=JSON.parse(localStorage.getItem("vault")||"[]");
  v.push({
    label:label.value,
    password:pw.value,
    created:now(),
    lastUsed:null
  });
  localStorage.setItem("vault",JSON.stringify(v));
  label.value="";
  pw.value="";
  load();
}

function touch(i){
  let v=JSON.parse(localStorage.getItem("vault"));
  v[i].lastUsed=now();
  localStorage.setItem("vault",JSON.stringify(v));
}

function load(){
  list.innerHTML="";
  let v=JSON.parse(localStorage.getItem("vault")||"[]");
  v.forEach((x,i)=>{
    if(!x.label.toLowerCase().includes(search.value.toLowerCase()))return;
    list.innerHTML+=`
      <div class="item">
        <b>${x.label}</b>
        <div class="time">ğŸ“… OluÅŸturuldu: ${x.created}</div>
        <div class="time">ğŸ•’ Son kullanÄ±ldÄ±: ${x.lastUsed||"-"}</div>
        <input type="password" value="${x.password}" readonly id="p${i}">
        <div class="actions">
          <button onclick="show(${i})">ğŸ‘ï¸</button>
          <button onclick="copy(${i})">ğŸ“‹</button>
          <button onclick="del(${i})">ğŸ—‘ï¸</button>
        </div>
      </div>`;
  });
}

function show(i){
  const e=document.getElementById("p"+i);
  e.type=e.type==="password"?"text":"password";
  touch(i);load();
}

function copy(i){
  navigator.clipboard.writeText(document.getElementById("p"+i).value);
  touch(i);load();
}

function del(i){
  let v=JSON.parse(localStorage.getItem("vault"));
  v.splice(i,1);
  localStorage.setItem("vault",JSON.stringify(v));
  load();
}

load();
</script>
</body>
</html>
