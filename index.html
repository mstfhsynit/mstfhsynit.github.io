<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Tek Dosya TÃ¼rkÃ§e DÃ¼zeltici ðŸ˜„</title>

<style>
/* ORTAK FONT */
body {
  font-family: Arial, sans-serif;
  padding: 50px;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: background 0.3s, color 0.3s;
}

/* ===== KOYU TEMA (varsayÄ±lan) ===== */
body {
  background-color: #0b1d3a;
  color: #ffffff;
}

h1 {
  font-size: 2em;
  margin-bottom: 20px;
  text-align: center;
  color: #ffffff;
}

textarea {
  width: 90%;
  max-width: 600px;
  height: 150px;
  margin-bottom: 5px;
  padding: 10px;
  font-size: 1em;
  background-color: #162a52;
  color: #ffffff;
  border: 1px solid #3a5ba0;
}

button {
  padding: 10px 20px;
  font-size: 1em;
  cursor: pointer;
  margin: 5px;
  background-color: #1e90ff;
  color: #ffffff;
  border: none;
  border-radius: 5px;
}

#sayac {
  margin-bottom: 10px;
  color: #b0c4ff;
  font-size: 0.9em;
}

#output {
  margin-top: 20px;
  font-size: 1.2em;
  color: #e6f0ff;
  white-space: pre-wrap;
  text-align: center;
  max-width: 600px;
}

/* ===== AÃ‡IK TEMA ===== */
body.light {
  background-color: #f0f8ff;
  color: #000000;
}

body.light h1 {
  color: #1a1a1a;
}

body.light textarea {
  background-color: #ffffff;
  color: #000000;
  border: 1px solid #999999;
}

body.light button {
  background-color: #4b6cff;
  color: #ffffff;
}

body.light #sayac {
  color: #333333;
}

body.light #output {
  color: #4b0082;
}
</style>

</head>
<body>

<h1>Tek Dosya TÃ¼rkÃ§e DÃ¼zeltici ðŸ˜„</h1>

<button onclick="temaDegistir()">ðŸŒ™ Tema DeÄŸiÅŸtir</button>

<textarea id="inputText" placeholder="Metni buraya yazÄ±n..."></textarea>

<div id="sayac">Karakter: 0</div>

<button onclick="duzelt()">DÃ¼zelt</button>
<button onclick="kopyala()">Kopyala</button>

<div id="output"></div>

<script>
const sozluk = {
  "msj":"mesaj","larim":"larÄ±m","dusuyormu":"dÃ¼ÅŸÃ¼yor mu","gondereyim":"gÃ¶ndereyim",
  "tesekkurler":"TeÅŸekkÃ¼rler","merhaba":"Merhaba","mubarek":"MÃ¼barek",
  "subhanallh":"Subhanallah","elhamdulliah":"ElhamdÃ¼lillah",
  "nasilsiniz":"NasÄ±lsÄ±nÄ±z","gunaydin":"GÃ¼naydÄ±n","iyigunler":"Ä°yi gÃ¼nler",
  "allh":"Allah","sagol":"SaÄŸol","iyiaksamlar":"Ä°yi akÅŸamlar",
  "iyigeceler":"Ä°yi geceler","nasil":"nasÄ±l","cok":"Ã§ok","harika":"harika",
  "sanami":"sana mÄ±","nasilsin":"NasÄ±lsÄ±n","yapiyin":"yapÄ±yÄ±n","sorayimmi":"sorayÄ±m mÄ±"
};

const baglaclar = ["ve","ile","ama","fakat","Ã§Ã¼nkÃ¼","ancak","lakin"];
const soruEkleri = ["mi","mÄ±","mu","mÃ¼"];

// Karakter sayacÄ±
document.getElementById("inputText").addEventListener("input", function(){
  document.getElementById("sayac").textContent = "Karakter: " + this.value.length;
});

function duzelt() {
  let text = document.getElementById("inputText").value.trim();
  if (!text) {
    document.getElementById("output").textContent = "LÃ¼tfen metin girin!";
    return;
  }

  text = text.replace(/\s+/g, ' ');
  let sentences = text.split(/([.!?]+)/).filter(s => s.trim() !== "");
  let corrected = "";

  for (let i = 0; i < sentences.length; i += 2) {
    let sentence = sentences[i].trim();
    let punctuation = sentences[i + 1] ? sentences[i + 1] : ".";

    sentence = sentence.split(' ').map(word => {
      let clean = word.toLowerCase().replace(/[.,!?;:]/g, '');
      return sozluk[clean] || word;
    }).join(' ');

    sentence = sentence.replace(/,([^\s])/g, ', $1');

    baglaclar.forEach(b => {
      let regex = new RegExp(",\\s*" + b, "gi");
      sentence = sentence.replace(regex, b);
    });

    sentence = sentence.charAt(0).toUpperCase() + sentence.slice(1);

    let words = sentence.split(' ');
    if (soruEkleri.includes(words[words.length - 1].toLowerCase()) && !/[?]$/.test(sentence)) {
      punctuation = "?";
    }

    if (!/[.!?]$/.test(sentence)) punctuation = ".";

    corrected += sentence + punctuation + " ";
  }

  document.getElementById("output").textContent = corrected.trim();
}

// Kopyala
function kopyala() {
  const text = document.getElementById("output").textContent;
  if (!text) return;
  navigator.clipboard.writeText(text);
  alert("DÃ¼zeltilmiÅŸ metin kopyalandÄ±!");
}

// Tema deÄŸiÅŸtir
function temaDegistir() {
  document.body.classList.toggle("light");
}
</script>

</body>
</html>
