# backend.py
from flask import Flask, request, jsonify
import openai

openai.api_key = "BURAYA_OPENAI_API_KEY"

app = Flask(__name__)

@app.route("/duzelt", methods=["POST"])
def duzelt():
    data = request.json
    text = data.get("text", "")
    
    if not text:
        return jsonify({"corrected": "Lütfen bir metin girin!"})
    
    # AI modeline metni gönder
    prompt = f"Türkçe metni tamamen doğru yazım, noktalama ve cümle mantığı ile düzelt: {text}"
    
    response = openai.ChatCompletion.create(
        model="gpt-4",
        messages=[{"role":"user","content":prompt}],
        temperature=0
    )
    
    corrected_text = response.choices[0].message.content
    return jsonify({"corrected": corrected_text})

if __name__ == "__main__":
    app.run(port=5000)
    <!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>AI %100 Hatasız Türkçe Düzeltici</title>
<style>
body { font-family: Arial; background:#f0f8ff; padding:50px; display:flex; flex-direction:column; align-items:center;}
textarea { width:90%; max-width:600px; height:150px; margin-bottom:10px; padding:10px;}
button { padding:10px 20px; font-size:1em; cursor:pointer; }
#output { margin-top:20px; font-size:1.2em; color:#4b0082; white-space:pre-wrap; text-align:center;}
</style>
</head>
<body>

<h1>AI %100 Hatasız Türkçe Düzeltici</h1>
<textarea id="inputText" placeholder="Metni buraya yazın..."></textarea>
<button onclick="duzelt()">Düzelt</button>
<div id="output"></div>

<script>
async function duzelt() {
    let text = document.getElementById("inputText").value;
    if(!text) { document.getElementById("output").textContent="Lütfen metin girin!"; return; }

    const response = await fetch("http://localhost:5000/duzelt", {
        method:"POST",
        headers: { "Content-Type":"application/json" },
        body: JSON.stringify({ text })
    });

    const data = await response.json();
    document.getElementById("output").textContent = data.corrected;
}
</script>

</body>
</html>
