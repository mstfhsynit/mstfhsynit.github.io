<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Akıllı NLP Türkçe Noktalama ve Yazım Düzeltici</title>
<style>
    body { display:flex; flex-direction:column; align-items:center; padding:50px; font-family:Arial,sans-serif; background-color:#f0f8ff; color:#333; }
    h1 { font-size:2em; margin-bottom:20px; text-align:center; }
    textarea { width:90%; max-width:600px; height:150px; font-size:1em; padding:10px; margin-bottom:10px; }
    button { padding:10px 20px; font-size:1em; cursor:pointer; }
    #output { margin-top:20px; font-size:1.2em; color:#4b0082; text-align:center; white-space:pre-wrap; }
</style>
</head>
<body>

<h1>Akıllı NLP Türkçe Metin Düzeltici</h1>
<textarea id="inputText" placeholder="Buraya yazınızı girin..."></textarea>
<button onclick="duzelt()">Düzelt</button>
<div id="output"></div>

<script>
// Sık yapılan yazım hataları
const sozluk = {
    "msj":"mesaj","larim":"larım","dusuyormu":"düşüyor mu","gondereyim":"göndereyim",
    "tesekkurler":"Teşekkürler","merhaba":"Merhaba","mubarek":"Mübarek",
    "subhanallh":"Subhanallah","elhamdulliah":"Elhamdülillah",
    "nasilsiniz":"Nasılsınız","gunaydin":"Günaydın","iyigunler":"İyi günler",
    "allh":"Allah","sagol":"Sağol","iyiaksamlar":"İyi akşamlar",
    "iyigeceler":"İyi geceler","nasil":"nasıl","cok":"çok","harika":"harika"
};

// Özel isimler ve şehirler
const isimler = ["Mustafa","Ahmet","Ali","Mehmet","Ayşe","Fatma","Emre","Hüseyin"];
const sehirler = ["İstanbul","Ankara","İzmir","Bursa","Antalya","Trabzon","Kahramanmaraş"];

// Bağlaçlar
const baglaclar = ["ve","ile","ama","fakat","çünkü","ancak","lakin"];

// Soru kelimeleri ve ekleri
const soruEkleri = ["mi","mı","mu","mü"];

function duzelt() {
    let text = document.getElementById("inputText").value.trim();
    if(text==="") {
        document.getElementById("output").textContent="Lütfen bir metin girin!";
        return;
    }

    // 1. Fazla boşlukları temizle
    text = text.replace(/\s+/g,' ');

    // 2. Cümleleri ayır (nokta, soru işareti, ünlem, virgül bazlı)
    let sentences = text.split(/([.!?]+)/).filter(s=>s.trim()!=="");
    let corrected = "";

    for(let i=0;i<sentences.length;i+=2){
        let sentence = sentences[i].trim();
        let punctuation = sentences[i+1]?sentences[i+1]:".";

        if(sentence.length===0) continue;

        // 3. Kelime bazlı düzeltme
        sentence = sentence.split(' ').map(word=>{
            let clean = word.toLowerCase().replace(/[.,!?;:]/g,'');
            if(sozluk[clean]) return sozluk[clean];
            return word;
        }).join(' ');

        // 4. Virgül sonrası boşluk
        sentence = sentence.replace(/,([^\s])/g,', $1');

        // 5. Bağlaç mantığı
        baglaclar.forEach(b=>{
            let regex = new RegExp(",\\s*"+b,"gi");
            sentence = sentence.replace(regex,b);
        });

        // 6. Cümle başı büyük harf
        sentence = sentence.charAt(0).toUpperCase() + sentence.slice(1);

        // 7. NLP tabanlı soru işareti ekleme
        let words = sentence.split(' ');
        if(soruEkleri.includes(words[words.length-1].toLowerCase()) && !/[?]$/.test(sentence)){
            punctuation = "?";
        }

        // 8. Cümle sonuna noktalama ekleme
        if(!/[.!?]$/.test(sentence)) punctuation = ".";

        corrected += sentence + punctuation + " ";
    }

    corrected = corrected.replace(/\s+/g,' ').trim();

    // 9. Özel isim ve şehirler
    isimler.forEach(name=>{
        let regex = new RegExp("\\b"+name.toLowerCase()+"\\b","g");
        corrected = corrected.replace(regex,name);
    });
    sehirler.forEach(city=>{
        let regex = new RegExp("\\b"+city.toLowerCase()+"\\b","g");
        corrected = corrected.replace(regex,city);
    });

    // 10. Tarih, saat ve sayılara dokunma
    corrected = corrected.replace(/(\d+)\s*([a-zA-ZçğıöşüÇĞİÖŞÜ]+)/g,'$1 $2');

    document.getElementById("output").textContent = corrected;
}
</script>

</body>
</html>
