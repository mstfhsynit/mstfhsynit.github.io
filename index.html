<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Akıllı Türkçe Metin Düzeltici</title>
<style>
    body {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 50px;
        font-family: Arial, sans-serif;
        background-color: #f0f8ff;
        color: #333;
    }
    h1 { font-size: 2em; margin-bottom: 20px; }
    textarea { width: 90%; max-width: 600px; height: 150px; font-size: 1em; padding: 10px; }
    button { margin-top: 10px; padding: 10px 20px; font-size: 1em; cursor: pointer; }
    #output { margin-top: 20px; font-size: 1.2em; color: #4b0082; text-align: center; white-space: pre-wrap; }
</style>
</head>
<body>

<h1>Akıllı Türkçe Metin Düzeltici</h1>
<textarea id="inputText" placeholder="Buraya yazınızı girin..."></textarea>
<button onclick="duzelt()">Düzelt</button>
<div id="output"></div>

<script>
// Basit Türkçe sözlük örneği
const sozluk = {
    "merhaba": "Merhaba",
    "kandiliniz": "Kandiliniz",
    "mubarek": "Mübarek",
    "tesekkurler": "Teşekkürler",
    "subhanallh": "Subhanallah",
    "elhamdulliah": "Elhamdülillah"
};

// Özel isimler ve şehirler
const isimler = ["Mustafa","Ahmet","Ali","Mehmet","Ayşe","Fatma"];
const sehirler = ["İstanbul","Ankara","İzmir","Bursa","Antalya","Trabzon","Kahramanmaraş"];

// Bağlaçlar
const baglaclar = ["ve","ile","ama","fakat","çünkü","ancak"];

function duzelt() {
    let text = document.getElementById("inputText").value.trim();
    if(text === "") {
        document.getElementById("output").textContent = "Lütfen bir metin girin!";
        return;
    }

    // 1. Fazla boşlukları temizle
    text = text.replace(/\s+/g,' ');

    // 2. Noktalama eksikse sonuna nokta ekle
    if(!/[.!?]$/.test(text)) text += ".";

    // 3. Cümleleri ayır
    let sentences = text.split(/([.!?]+)/).filter(s => s.trim() !== "");

    let corrected = "";
    for(let i=0;i<sentences.length;i+=2){
        let sentence = sentences[i].trim();
        let punctuation = sentences[i+1] ? sentences[i+1] : ".";

        if(sentence.length===0) continue;

        // 4. Cümle başı büyük harf
        sentence = sentence.charAt(0).toUpperCase() + sentence.slice(1).toLowerCase();

        // 5. Kelime bazlı düzeltme (sözlük)
        sentence = sentence.split(' ').map(word=>{
            let clean = word.toLowerCase().replace(/[.,!?;:]/g,'');
            if(sozluk[clean]) return sozluk[clean];
            return word;
        }).join(' ');

        // 6. Virgül sonrası boşluk
        sentence = sentence.replace(/,([^\s])/g,', $1');

        // 7. Bağlaç öncesi/sonrası fazla virgül silme
        baglaclar.forEach(b=>{
            let regex1 = new RegExp(",\\s*"+b,"gi");
            sentence = sentence.replace(regex1,b);
        });

        corrected += sentence + punctuation + " ";
    }

    corrected = corrected.replace(/\s+/g,' ').trim();

    // 8. Özel isim ve şehirleri büyük yap
    isimler.forEach(name=>{
        let regex = new RegExp("\\b"+name.toLowerCase()+"\\b","g");
        corrected = corrected.replace(regex,name);
    });
    sehirler.forEach(city=>{
        let regex = new RegExp("\\b"+city.toLowerCase()+"\\b","g");
        corrected = corrected.replace(regex,city);
    });

    // 9. Tarih, saat ve sayılara dokunma (basit)
    corrected = corrected.replace(/(\d+)\s*([a-zA-ZçğıöşüÇĞİÖŞÜ]+)/g,'$1 $2');

    document.getElementById("output").textContent = corrected;
}
</script>

</body>
</html>
